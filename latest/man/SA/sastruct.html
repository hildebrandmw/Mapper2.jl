<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>SAStruct · Mapper2.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Mapper2.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../index.html">Home</a></li><li><span class="toctext">Manual</span><ul><li><span class="toctext">Architecture Modeling</span><ul><li><a class="toctext" href="../architecture/types.html">Core Types</a></li><li><a class="toctext" href="../architecture/components.html">AbstractComponent</a></li><li><a class="toctext" href="../architecture/constructors.html">Architecture Constructors</a></li></ul></li><li><a class="toctext" href="../taskgraph.html">Taskgraph</a></li><li><a class="toctext" href="../map.html">Map</a></li><li><a class="toctext" href="../extensions.html">Extensions</a></li><li><span class="toctext">Simulated Annealing Placement</span><ul><li><a class="toctext" href="placement.html">Simulated Annealing</a></li><li class="current"><a class="toctext" href="sastruct.html">SAStruct</a><ul class="internal"><li><a class="toctext" href="#Flat-Architecture-Optimization-1">Flat Architecture Optimization</a></li><li><a class="toctext" href="#Construction-Pipeline-1">Construction Pipeline</a></li></ul></li><li><a class="toctext" href="methods.html">Extentable Methods</a></li><li><a class="toctext" href="types.html">Extendable Types</a></li><li><a class="toctext" href="distance.html">SADistance</a></li><li><a class="toctext" href="move_generators.html">Move Generators</a></li><li><a class="toctext" href="map_tables.html">MapTables</a></li></ul></li><li><span class="toctext">Routing</span><ul><li><a class="toctext" href="../routing/routing.html">Routing</a></li><li><a class="toctext" href="../routing/struct.html">Routing Struct</a></li><li><a class="toctext" href="../routing/links.html">Routing Links</a></li><li><a class="toctext" href="../routing/channels.html">Routing Channels</a></li><li><a class="toctext" href="../routing/graph.html">Routing Graph</a></li></ul></li><li><a class="toctext" href="../mappergraphs.html">MapperGraphs</a></li><li><a class="toctext" href="../helper.html">Helper Functions</a></li><li><a class="toctext" href="../paths.html">Paths</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Manual</li><li>Simulated Annealing Placement</li><li><a href="sastruct.html">SAStruct</a></li></ul><a class="edit-page" href="https://github.com/hildebrandmw/Mapper2.jl/blob/master/docs/src/man/SA/sastruct.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>SAStruct</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="SAStruct-1" href="#SAStruct-1">SAStruct</a></h1><p>The central data structure for simulated annealing placement is the  <a href="sastruct.html#Mapper2.SA.SAStruct"><code>SAStruct</code></a>. Before placement, this data type will be created from the <a href="../map.html#Mapper2.MapperCore.Map"><code>Map</code></a> and the main loop of placement will occur using this structure.</p><p>After placement, the final location of tasks will be recorded from the  <a href="sastruct.html#Mapper2.SA.SAStruct"><code>SAStruct</code></a> back into the parent <a href="../map.html#Mapper2.MapperCore.Map"><code>Map</code></a>.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Mapper2.SA.SAStruct" href="#Mapper2.SA.SAStruct"><code>Mapper2.SA.SAStruct</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">struct SAStruct{T&lt;:RuleSet, U&lt;:Mapper2.SA.SADistance, D, N&lt;:Mapper2.SA.SANode, L&lt;:Mapper2.SA.SAChannel, M&lt;:Mapper2.SA.AbstractMapTable, A&lt;:Mapper2.SA.AddressData, Q}</code></pre><p><strong>Fields</strong></p><ul><li><p><code>ruleset</code></p></li><li><p><code>nodes</code></p><p><code>Vector{N}</code>: Container of nodes.</p></li><li><p><code>channels</code></p><p><code>Vector{L}</code>: Container of edges.</p></li><li><p><code>maptable</code></p></li><li><p><code>distance</code></p></li><li><p><code>grid</code></p></li><li><p><code>address_data</code></p></li><li><p><code>aux</code></p></li><li><p><code>pathtable</code></p></li><li><p><code>tasktable</code></p></li></ul><p><strong>Documentation</strong></p><p>Datastructure for simulated annealing placement.</p><p>Important parameters:</p><ul><li><code>A</code> - The concrete Architecture type.</li></ul><p><strong>Constructor</strong></p><p>Arguments:</p><ul><li><code>m</code>: The <code>Map</code> to translate into an <code>SAStruct</code>.</li></ul><p>Keyword Arguments:</p><ul><li><p><code>distance</code>: The distance type to use. Defaults: <a href="distance.html#Mapper2.SA.BasicDistance"><code>BasicDistance</code></a></p></li><li><p><code>enable_flattness :: Bool</code>: Enable the flat architecture optimization if   it is applicable. Default: <code>true</code>.</p></li><li><p><code>enable_address :: Bool</code>: Enable address-specific data to be incorporated   into the struct. Default: <code>false</code>.</p></li><li><p><code>aux</code>: Auxiliary data struct to provide any extra information that may be   needed for specializations of placement. Default: <code>nothing</code>.</p></li></ul><p><strong>Method List</strong></p><pre><code class="language-julia">SAStruct(ruleset, nodes, channels, maptable, distance, grid, address_data, aux, pathtable, tasktable)</code></pre><p>defined at <a href="https://github.com/hildebrandmw/Mapper2.jl/tree/44c85d1185b4b01eec0286d196df0d02bca46cd0//src/Place/SA/Struct.jl#L171"><code>/home/travis/build/hildebrandmw/Mapper2.jl/src/Place/SA/Struct.jl:171</code></a>.</p><pre><code class="language-julia">SAStruct(m; enable_address, aux, kwargs...)</code></pre><p>defined at <a href="https://github.com/hildebrandmw/Mapper2.jl/tree/44c85d1185b4b01eec0286d196df0d02bca46cd0//src/Place/SA/Struct.jl#L339"><code>/home/travis/build/hildebrandmw/Mapper2.jl/src/Place/SA/Struct.jl:339</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/hildebrandmw/Mapper2.jl/blob/44c85d1185b4b01eec0286d196df0d02bca46cd0/src/Place/SA/Struct.jl#L135-L159">source</a></section><h2><a class="nav-anchor" id="Flat-Architecture-Optimization-1" href="#Flat-Architecture-Optimization-1">Flat Architecture Optimization</a></h2><p>In the general case, any given address in the TopLevel may have multiple mappable components. Simulated annealing placement completely supports this  general case. However, doing so adds overhead as the available and valid slots within each address must be traced using Vectors, which addes extra pointer dereferencing during placement.</p><p>If this optimization is enabled and the TopLevel structure contains only a  single mappable component per address, the &quot;Flat Architecture Optimization&quot; will be applied. Practically, this means that the locations of nodes in the SAStruct will be tracked using <code>CartesianIndices</code> rather than <code>Locations</code>, and some tracking vectors in the SAStruct&#39;s MapTable can be simplified to <code>Bool</code>s.</p><p>Overall, it allows for much faster placement when this optimization can be  applied without sacrificing the generality of placement when it cannot.</p><h2><a class="nav-anchor" id="Construction-Pipeline-1" href="#Construction-Pipeline-1">Construction Pipeline</a></h2><pre><code class="language-none">SA.task_equivalence_classes</code></pre><footer><hr/><a class="previous" href="placement.html"><span class="direction">Previous</span><span class="title">Simulated Annealing</span></a><a class="next" href="methods.html"><span class="direction">Next</span><span class="title">Extentable Methods</span></a></footer></article></body></html>
